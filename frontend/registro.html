<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro - TalentMX</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-gradient-to-br from-slate-900 via-red-900 to-amber-900 min-h-screen flex items-center justify-center">
    
    <div class="absolute inset-0 opacity-10">
        <div class="absolute top-20 left-10 w-72 h-72 bg-red-700 rounded-full mix-blend-multiply filter blur-xl"></div>
        <div class="absolute top-40 right-10 w-72 h-72 bg-amber-600 rounded-full mix-blend-multiply filter blur-xl"></div>
        <div class="absolute -bottom-8 left-20 w-72 h-72 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl"></div>
    </div>

    <div class="relative z-10 w-full max-w-4xl mx-4">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            
            <!-- Left Column: Info -->
            <div class="hidden lg:flex flex-col justify-center text-white space-y-8 pl-8">
                <div>
                    <div class="w-16 h-16 bg-gradient-to-br from-red-900 to-amber-900 rounded-2xl flex items-center justify-center shadow-2xl mb-4">
                        <span class="text-white font-black text-3xl">T</span>
                    </div>
                    <h1 class="text-5xl font-black mb-2">TalentMX</h1>
                    <p class="text-red-200 text-lg">Únete a la Revolución del Talento</p>
                </div>

                <div class="space-y-4">
                    <h2 class="text-2xl font-bold">¿Por Qué Registrarse?</h2>
                    <ul class="space-y-3">
                        <li class="flex items-start gap-3">
                            <span class="text-amber-400 text-xl mt-1"><i class="fas fa-check-circle"></i></span>
                            <span class="text-red-100">Acceso a ofertas exclusivas en sectores de alto valor</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-amber-400 text-xl mt-1"><i class="fas fa-check-circle"></i></span>
                            <span class="text-red-100">Matching inteligente basado en tus competencias</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-amber-400 text-xl mt-1"><i class="fas fa-check-circle"></i></span>
                            <span class="text-red-100">Plataforma inclusiva para todos</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-amber-400 text-xl mt-1"><i class="fas fa-check-circle"></i></span>
                            <span class="text-red-100">Alineado con Plan México 2024</span>
                        </li>
                    </ul>
                </div>

                <div class="bg-red-900/40 backdrop-blur border border-red-500/30 rounded-lg p-4">
                    <p class="text-sm text-red-100">
                        <i class="fas fa-shield-alt text-amber-400 mr-2"></i>
                        Tu información está segura y será usada solo para conectarte con las mejores oportunidades.
                    </p>
                </div>
            </div>

            <!-- Right Column: Registration Form -->
            <div class="flex flex-col justify-center">
                <!-- Logo Mobile -->
                <div class="lg:hidden text-center mb-8">
                    <div class="w-16 h-16 bg-gradient-to-br from-red-900 to-amber-900 rounded-2xl flex items-center justify-center mx-auto shadow-2xl mb-4">
                        <span class="text-white font-black text-3xl">T</span>
                    </div>
                    <h1 class="text-3xl font-black text-white mb-2">TalentMX</h1>
                    <p class="text-red-200">Crear Cuenta</p>
                </div>

                <!-- Registration Container -->
                <div class="bg-white/95 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 overflow-hidden">
                    
                    <!-- Tabs -->
                    <div class="flex">
                        <button onclick="cambiarTipo('estudiante')" id="tab-estudiante" class="flex-1 py-4 px-6 font-bold text-center border-b-2 border-red-900 bg-slate-50 text-red-900 transition">
                            <i class="fas fa-user-graduate mr-2"></i> Estudiante
                        </button>
                        <button onclick="cambiarTipo('empresa')" id="tab-empresa" class="flex-1 py-4 px-6 font-bold text-center border-b-2 border-transparent text-slate-600 hover:text-slate-900 transition">
                            <i class="fas fa-building mr-2"></i> Empresa
                        </button>
                    </div>

                    <!-- Form Container -->
                    <div class="p-8">
                        <!-- Mensajes de Error/Éxito -->
                        <div id="mensaje" class="mb-6 hidden p-4 rounded-lg"></div>

                        <!-- Registro Estudiante -->
                        <form id="registroEstudiante" class="space-y-4">
                            <h3 class="text-xl font-bold text-slate-900 mb-6">Crear Cuenta - Estudiante</h3>
                            
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-bold text-slate-700 mb-2">Nombre</label>
                                    <input type="text" id="est-nombre" placeholder="Tu nombre" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-bold text-slate-700 mb-2">Apellido</label>
                                    <input type="text" id="est-apellido" placeholder="Tu apellido" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent" required>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-bold text-slate-700 mb-2">Correo Universitario</label>
                                <input type="email" id="est-email" placeholder="tu.nombre@urca.edu.mx" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent" required>
                            </div>

                            <div>
                                <label class="block text-sm font-bold text-slate-700 mb-2">Contraseña</label>
                                <input type="password" id="est-password" placeholder="Mínimo 8 caracteres" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent" required minlength="8">
                            </div>

                            <div>
                                <label class="block text-sm font-bold text-slate-700 mb-2">Confirmar Contraseña</label>
                                <input type="password" id="est-password-confirm" placeholder="Repite tu contraseña" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent" required minlength="8">
                            </div>

                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-bold text-slate-700 mb-2">Carrera</label>
                                    <select id="est-carrera" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent" required>
                                        <option value="">Selecciona una carrera</option>
                                        <option value="Ingeniería en Sistemas">Ingeniería en Sistemas</option>
                                        <option value="Ingeniería Electrónica">Ingeniería Electrónica</option>
                                        <option value="Ingeniería Automotriz">Ingeniería Automotriz</option>
                                        <option value="Ingeniería Mecánica">Ingeniería Mecánica</option>
                                        <option value="Administración">Administración</option>
                                        <option value="Otro">Otro</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-bold text-slate-700 mb-2">Semestre</label>
                                    <select id="est-semestre" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent" required>
                                        <option value="">Selecciona semestre</option>
                                        <option value="1">1er Semestre</option>
                                        <option value="3">3er Semestre</option>
                                        <option value="5">5to Semestre</option>
                                        <option value="7">7mo Semestre</option>
                                        <option value="9">9no Semestre</option>
                                    </select>
                                </div>
                            </div>

                            <div>
                                <label class="flex items-center gap-2 text-sm text-slate-700">
                                    <input type="checkbox" id="est-terminos" required>
                                    <span>Acepto los <a href="#" class="text-red-900 font-bold hover:underline">términos y condiciones</a></span>
                                </label>
                            </div>

                            <button type="submit" onclick="registrarEstudiante(event)" class="w-full bg-gradient-to-r from-red-900 to-amber-900 text-white font-bold py-3 rounded-lg hover:from-red-800 hover:to-amber-800 transition shadow-lg">
                                <i class="fas fa-user-plus mr-2"></i> Crear Cuenta
                            </button>
                        </form>

                        <!-- Registro Empresa -->
                        <form id="registroEmpresa" class="space-y-4 hidden">
                            <h3 class="text-xl font-bold text-slate-900 mb-6">Crear Cuenta - Empresa</h3>
                            
                            <div>
                                <label class="block text-sm font-bold text-slate-700 mb-2">Nombre de la Empresa</label>
                                <input type="text" id="emp-nombre" placeholder="Nombre completo de tu empresa" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent" required>
                            </div>

                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-bold text-slate-700 mb-2">Correo Corporativo</label>
                                    <input type="email" id="emp-email" placeholder="contacto@empresa.com" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-bold text-slate-700 mb-2">Teléfono</label>
                                    <input type="tel" id="emp-telefono" placeholder="+52 (XX) XXXX-XXXX" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent" required>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-bold text-slate-700 mb-2">Contraseña</label>
                                <input type="password" id="emp-password" placeholder="Mínimo 8 caracteres" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent" required minlength="8">
                            </div>

                            <div>
                                <label class="block text-sm font-bold text-slate-700 mb-2">Confirmar Contraseña</label>
                                <input type="password" id="emp-password-confirm" placeholder="Repite tu contraseña" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent" required minlength="8">
                            </div>

                            <div>
                                <label class="block text-sm font-bold text-slate-700 mb-2">Sector</label>
                                <select id="emp-sector" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent" required>
                                    <option value="">Selecciona un sector</option>
                                    <option value="Semiconductores">Semiconductores</option>
                                    <option value="Automotriz">Automotriz</option>
                                    <option value="Aeroespacial">Aeroespacial</option>
                                    <option value="Otro">Otro</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-bold text-slate-700 mb-2">Descripción</label>
                                <textarea id="emp-descripcion" placeholder="Cuéntanos sobre tu empresa (misión, visión, valores)" rows="3" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent" required></textarea>
                            </div>

                            <div>
                                <label class="flex items-center gap-2 text-sm text-slate-700">
                                    <input type="checkbox" id="emp-terminos" required>
                                    <span>Acepto los <a href="#" class="text-red-900 font-bold hover:underline">términos y condiciones</a></span>
                                </label>
                            </div>

                            <button type="submit" onclick="registrarEmpresa(event)" class="w-full bg-gradient-to-r from-red-900 to-amber-900 text-white font-bold py-3 rounded-lg hover:from-red-800 hover:to-amber-800 transition shadow-lg">
                                <i class="fas fa-building mr-2"></i> Crear Cuenta
                            </button>
                        </form>
                    </div>

                    <!-- Footer -->
                    <div class="bg-slate-50 px-8 py-4 border-t border-slate-200">
                        <p class="text-sm text-slate-600 text-center">
                            ¿Ya tienes cuenta? <a href="login.html" class="text-red-900 font-bold hover:underline">Inicia sesión aquí</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function cambiarTipo(tipo) {
            // Actualizar tabs
            document.getElementById('tab-estudiante').classList.toggle('border-red-900', tipo === 'estudiante');
            document.getElementById('tab-estudiante').classList.toggle('border-transparent', tipo !== 'estudiante');
            document.getElementById('tab-estudiante').classList.toggle('bg-slate-50', tipo === 'estudiante');
            document.getElementById('tab-estudiante').classList.toggle('text-red-900', tipo === 'estudiante');
            document.getElementById('tab-estudiante').classList.toggle('text-slate-600', tipo !== 'estudiante');

            document.getElementById('tab-empresa').classList.toggle('border-red-900', tipo === 'empresa');
            document.getElementById('tab-empresa').classList.toggle('border-transparent', tipo !== 'empresa');
            document.getElementById('tab-empresa').classList.toggle('bg-slate-50', tipo === 'empresa');
            document.getElementById('tab-empresa').classList.toggle('text-red-900', tipo === 'empresa');
            document.getElementById('tab-empresa').classList.toggle('text-slate-600', tipo !== 'empresa');

            // Actualizar forms
            document.getElementById('registroEstudiante').classList.toggle('hidden', tipo !== 'estudiante');
            document.getElementById('registroEmpresa').classList.toggle('hidden', tipo !== 'empresa');
        }

        function mostrarMensaje(texto, tipo) {
            const msg = document.getElementById('mensaje');
            msg.textContent = texto;
            msg.className = `mb-6 p-4 rounded-lg ${tipo === 'exito' ? 'bg-green-100 text-green-800 border border-green-300' : 'bg-red-100 text-red-800 border border-red-300'}`;
            msg.classList.remove('hidden');
            setTimeout(() => msg.classList.add('hidden'), 5000);
        }

        function registrarEstudiante(e) {
            e.preventDefault();

            const nombre = document.getElementById('est-nombre').value;
            const apellido = document.getElementById('est-apellido').value;
            const email = document.getElementById('est-email').value;
            const password = document.getElementById('est-password').value;
            const passwordConfirm = document.getElementById('est-password-confirm').value;
            const carrera = document.getElementById('est-carrera').value;
            const semestre = document.getElementById('est-semestre').value;

            // Validaciones
            if (password !== passwordConfirm) {
                mostrarMensaje('Las contraseñas no coinciden', 'error');
                return;
            }

            if (password.length < 8) {
                mostrarMensaje('La contraseña debe tener al menos 8 caracteres', 'error');
                return;
            }

            // Obtener usuarios existentes
            let estudiantes = JSON.parse(localStorage.getItem('estudiantes') || '[]');

            // Verificar email duplicado
            if (estudiantes.some(e => e.email === email)) {
                mostrarMensaje('Este email ya está registrado', 'error');
                return;
            }

            // Crear nuevo estudiante
            const nuevoEstudiante = {
                id: 'E' + Date.now(),
                nombre,
                apellido,
                email,
                password, // En producción, usar hash
                carrera,
                semestre,
                fechaRegistro: new Date().toISOString(),
                competencias: [],
                sectorInteres: '',
                inclusionData: {}
            };

            // Guardar en localStorage
            estudiantes.push(nuevoEstudiante);
            localStorage.setItem('estudiantes', JSON.stringify(estudiantes));

            mostrarMensaje('¡Cuenta creada exitosamente! Redirigiendo al login...', 'exito');
            
            setTimeout(() => {
                window.location.href = 'login.html';
            }, 2000);
        }

        function registrarEmpresa(e) {
            e.preventDefault();

            const nombre = document.getElementById('emp-nombre').value;
            const email = document.getElementById('emp-email').value;
            const telefono = document.getElementById('emp-telefono').value;
            const password = document.getElementById('emp-password').value;
            const passwordConfirm = document.getElementById('emp-password-confirm').value;
            const sector = document.getElementById('emp-sector').value;
            const descripcion = document.getElementById('emp-descripcion').value;

            // Validaciones
            if (password !== passwordConfirm) {
                mostrarMensaje('Las contraseñas no coinciden', 'error');
                return;
            }

            if (password.length < 8) {
                mostrarMensaje('La contraseña debe tener al menos 8 caracteres', 'error');
                return;
            }

            // Obtener empresas existentes
            let empresas = JSON.parse(localStorage.getItem('empresas') || '[]');

            // Verificar email duplicado
            if (empresas.some(e => e.email === email)) {
                mostrarMensaje('Este email ya está registrado', 'error');
                return;
            }

            // Crear nueva empresa
            const nuevoEmpresa = {
                id: 'C' + Date.now(),
                nombre,
                email,
                telefono,
                password, // En producción, usar hash
                sector,
                descripcion,
                fechaRegistro: new Date().toISOString(),
                ofertasPublicadas: [],
                inclusionCommitment: {}
            };

            // Guardar en localStorage
            empresas.push(nuevoEmpresa);
            localStorage.setItem('empresas', JSON.stringify(empresas));

            mostrarMensaje('¡Cuenta creada exitosamente! Redirigiendo al login...', 'exito');
            
            setTimeout(() => {
                window.location.href = 'login.html';
            }, 2000);
        }
    </script>
</body>
</html>
